  <div class="row-fluid" ng-controller="map2">
    <div class="span11">
    The map panel uses 2 letter country or US state codes to plot concentrations on a map. Darker terroritories mean more records matched that area. If multiple queries are sent from a single panel the <strong>first query will be displayed</strong>
    </div>
  </div>

  <div class="row-fluid">    
    <div class="span3">
      <form>
        <h6>Field</h6>
        <input type="text" class="input-small" ng-model="panel.field">
      </form>
    </div>
    <div class="span6">
      <form class="input-append">
        <h6>Query</h6>
        <input type="text" ng-model="panel.query">
        <button class="btn" ng-click="get_data();"><i class="icon-search"></i></button>
      </form>
    </div>
    <div class="span1"><h6>Map</h6> 
      <select ng-change="$emit('render')" class="input-small" ng-model="panel.map" ng-options="f for f in ['world','europe','usa']"></select>
    </div>
  </div>

  <div class="row-fluid">
      <div class="span11">
        <h4>Display Options</h4>
      </div>

      <!--
        Rolling our own tab control here because the Angular-Strap Tab directive doesn't allow
        updates to components inside, which is quite bizarre.  Or I just can't figure it out...
      -->
      <div class="span11" style="margin-bottom:20px">
          <ul class="nav nav-tabs" ng-cloak>
              <li ng-repeat="tab in panel.displayTabs" ng-class="{active:isActive(tab)}">
                  <a ng-click="tabClick(tab)">{{tab}}</a>
              </li>
          </ul>

          <div ng-show="isActive('geopoints')">
              <table ng-controller="map2">
                  <tbody>
                  <tr>
                      <td style="width:100px" >
                          <button type="button" class="btn"
                                  bs-button
                                  ng-class="{'btn-success': panel.display.geopoints.enabled}"
                                  ng-model="panel.display.geopoints.enabled">{{panel.display.geopoints.enabled|enabledText}}</button>

                      </td>
                      <td>


                      </td>
                  </tr>
                  </tbody>

              </table>
          </div>
      </div>
  </div>

  <h5>Panel Spy</h5>
  <div class="row-fluid">
    <div class="span2"> 
      <label class="small"> Spyable </label><input type="checkbox" ng-model="panel.spyable" ng-checked="panel.spyable">
    </div>
    <div class="span9 small">
      The panel spy shows 'behind the scenes' information about a panel. It can
      be accessed by clicking the <i class='icon-eye-open'></i> in the top right
      of the panel.
    </div>
  </div>
